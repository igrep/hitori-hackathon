<h1>Tasks</h1>
<%= form_for @new_task do|f| %>
<ul>
  <!-- 多分にlabelメソッドの使い方を間違っている。標準でないラベルを表示するには本来どうすればよいものか -->
  <li><%= f.label @headers[:name]%><%= f.text_field :name %></li>
  <li><%= f.label @headers[:due_time] %><%= f.datetime_select :due_time %></li>
  <li><%= f.label :description %><br /><%= f.text_area :description, rows: 10 %></li>
  <li><%= f.submit %></li>
</ul>
<% end %>
<table id="task_list">
  <thead>
    <tr>
      <% @headers.each_value do|h| %>
        <th class="task_header"> <%= h %></th>
      <% end %>
      <th class="task_header">Details</th>
    </tr>
  </thead>
  <tbody>
    <% @tasks.each do|t| %>
      <tr class="task_line">
        <% @headers.each_key do|h| %>
          <td class="task_property"> <%= t[h] %></td>
        <% end %>
        <td class="task_property"><%=
        link_to "...", t, id: "link_to_task_#{t.id}", target: '_blank'
        %></td>
      </tr>
    <% end %>
  </tbody>
</table>
